<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miss√£o: S.O.S. Aurora - Uma Aventura de F√≠sica</title>
    
    <!-- Meta tags para SEO -->
    <meta name="description" content="Uma aventura interativa de f√≠sica espacial usando IA. Salve a Esta√ß√£o Aurora resolvendo desafios cient√≠ficos!">
    <meta name="keywords" content="f√≠sica, educa√ß√£o, jogo, IA, ci√™ncia, termologia, ondas, √≥ptica">
    <meta name="author" content="Esta√ß√£o Aurora">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'orbitron': ['Orbitron', 'monospace'],
                        'roboto-slab': ['Roboto Slab', 'serif']
                    },
                    colors: {
                        'space-dark': '#0c0a1e',
                        'space-medium': '#1a1a2e',
                        'space-light': '#16213e',
                        'aurora-cyan': '#4dd0e1',
                        'aurora-purple': '#9c27b0'
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto+Slab:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- MathJax Configuration -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\(', '\)']],
                displayMath: [['$$', '$$'], ['\[', '\]']],
                processEscapes: true,
                processEnvironments: true
            },
            svg: {
                fontCache: 'global'
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-space-dark text-gray-200 min-h-screen">
    
    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 bg-space-dark flex items-center justify-center z-50">
        <div class="text-center">
            <div class="loader mb-4 mx-auto"></div>
            <h2 class="font-orbitron text-xl text-aurora-cyan mb-2">Inicializando Esta√ß√£o Aurora</h2>
            <p class="text-gray-400">Estabelecendo conex√£o com sistemas...</p>
        </div>
    </div>
    
    <!-- System Messages Container -->
    <div id="system-messages" class="fixed top-4 right-4 z-40 max-w-md space-y-2"></div>
    
    <!-- Main Game Container -->
    <div class="flex items-center justify-center min-h-screen p-4">
        <div id="game-container" class="w-full max-w-4xl bg-space-medium rounded-lg shadow-2xl border border-space-light relative overflow-hidden">
            
            <!-- Header -->
            <div class="bg-gradient-to-r from-space-light to-space-medium p-4 border-b border-aurora-cyan/20">
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="font-orbitron text-xl md:text-2xl text-aurora-cyan font-bold">ESTA√á√ÉO AURORA</h1>
                        <p class="text-gray-400 text-sm">Sistema de Diagn√≥stico Avan√ßado</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div id="score-display" class="font-orbitron text-lg text-aurora-cyan bg-space-dark px-3 py-1 rounded-md border border-aurora-cyan/30">
                            PONTUA√á√ÉO: 0
                        </div>
                        <button id="reset-btn" 
                                class="action-button bg-red-600 hover:bg-red-500 text-white border-red-800 font-bold py-2 px-4 rounded-md text-sm" 
                                title="Reiniciar a miss√£o do zero. Todo o progresso ser√° perdido.">
                            üîÑ Reiniciar
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="p-6 md:p-8">
                <div id="slide-content" class="slide-content">
                    <div id="slide-image-container" class="mb-6"></div>
                    <div id="slide-text-container" class="mb-6"></div>
                    <div id="slide-choices-container" class="space-y-3"></div>
                    <div id="gemini-output-container" class="mt-6"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- E.N.E.M Modal -->
    <div id="enem-modal" class="modal-overlay hidden fixed inset-0 bg-black/70 flex items-center justify-center z-50">
        <div class="modal-content bg-space-medium border-2 border-yellow-500/50 p-8 rounded-lg max-w-lg mx-4 shadow-2xl">
            <div class="text-center">
                <div class="mb-4">
                    <span class="text-6xl">üéØ</span>
                </div>
                <h3 class="font-orbitron text-2xl text-yellow-400 mb-4">E.N.E.M</h3>
                <p class="text-lg font-bold text-yellow-300 mb-2">Enciclop√©dia de Navega√ß√£o e Engenharia da Miss√£o</p>
                <p class="text-gray-300 mb-6 leading-relaxed">
                    Aten√ß√£o: Acessar a E.N.E.M. projeta o terminal hologr√°fico da Enciclop√©dia, 
                    liberando desafios de treinamento interplanet√°rio espec√≠ficos dos sistemas que voc√™ est√° analisando.
                </p>
                <div class="flex justify-center space-x-4">
                    <button id="enem-confirm-btn" 
                            class="action-button bg-yellow-600 hover:bg-yellow-500 text-black font-bold border-yellow-800 px-8 py-3 rounded-md" 
                            title="Confirmar e acessar os desafios E.N.E.M.">
                        ‚úÖ Ativar E.N.E.M
                    </button>
                    <button id="enem-cancel-btn" 
                            class="action-button bg-gray-600 hover:bg-gray-500 text-white border-gray-800 px-8 py-3 rounded-md" 
                            title="Cancelar e retornar ao diagn√≥stico atual.">
                        ‚ùå Cancelar
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Video Modal -->
    <div id="video-modal" class="modal-overlay hidden fixed inset-0 bg-black/70 flex items-center justify-center z-50">
        <div class="modal-content bg-space-medium border-2 border-red-500/50 p-6 rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl">
            <div class="flex justify-between items-center mb-6 sticky top-0 bg-space-medium pb-4 border-b border-red-500/30">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl">üì°</span>
                    <div>
                        <h3 class="font-orbitron text-2xl text-red-400">Banco de Imagens Primitivas</h3>
                        <p class="text-gray-400 text-sm">Arquivo do Comando Estelar</p>
                    </div>
                </div>
                <button id="video-close-btn" 
                        class="text-gray-400 hover:text-white text-3xl font-bold transition-colors" 
                        title="Fechar o banco de imagens.">
                    &times;
                </button>
            </div>
            <div id="video-grid" class="space-y-6"></div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="config.js"></script>
    <script type="module" src="script.js"></script>
    
    <!-- Initialize App -->
    <script>
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loadingScreen = document.getElementById('loading-screen');
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    loadingScreen.style.transition = 'opacity 0.5s ease-out';
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                    }, 500);
                }
            }, 2000);
        });
        
        window.addEventListener('error', (e) => {
            if (e.message.includes('config.js')) {
                console.error('Arquivo config.js n√£o encontrado.');
                const systemMessages = document.getElementById('system-messages');
                if (systemMessages) {
                    systemMessages.innerHTML = `
                        <div class="bg-red-900/50 border-l-4 border-red-400 text-red-200 p-4 rounded-lg">
                            <strong>‚ö†Ô∏è Erro de Configura√ß√£o</strong><br>
                            Arquivo config.js n√£o encontrado.
                        </div>
                    `;
                }
            }
        });
    </script>
</body>
</html>